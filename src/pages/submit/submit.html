<!--
  Generated template for the SubmitPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-content padding>
    <form [formGroup]="timesheet" (ngSubmit)="logForm()" >
      <ion-item>
        <ion-label>Date</ion-label>
        <ion-datetime displayFormat="DDD, DD MMM YYYY" pickerFormat="DDDD MMMM" formControlName="date"></ion-datetime>
      </ion-item>
      <ion-item>
        <ion-label>Chantier</ion-label>
        <ion-select formControlName="site" interface="action-sheet">
          <ion-option *ngFor="let site of sites" value="{{site.id}}" (ionChange)="onchange_site($event)">{{site.name}}</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label>Tâche</ion-label>
        <ion-select formControlName="task" interface="action-sheet">
          <ion-option *ngFor="let task of tasks" value="{{tasks.id}}">{{tasks.name}}</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label>Début</ion-label>
        <ion-datetime displayFormat="H:mm" pickerFormat="H mm" formControlName="start" min="06:30" max="20:00" minuteValues="0,15,30,45"></ion-datetime>
      </ion-item>
      <ion-item>
        <ion-label>Fin</ion-label>
        <ion-datetime displayFormat="H:mm" pickerFormat="H mm" formControlName="end" min="06:30" max="20:00" minuteValues="0,15,30,45"></ion-datetime>
      </ion-item>
      <ion-item>
        <ion-label>Pause</ion-label>
        <ion-datetime displayFormat="H:mm" pickerFormat="H mm" formControlName="pause" min="00:00" max="04:00" minuteValues="0,15,30,45"></ion-datetime>
      </ion-item>
      <button ion-button type="submit" block [disabled]="!timesheet.valid">Envoyer</button>
    </form>
</ion-content>
